<HomeScreen>
    BoxLayout:
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        orientation: 'vertical'
        size_hint: 1, 1

        canvas.before:
            Color:
                rgba: 0.851, 0.851, 0.851, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            height: 100
            padding: [20,10,20,5]

            BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, 1
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 0.45
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]
                    Color:
                        rgba: 0, 0.051, 0.373, 0.53
                    Line:
                        rounded_rectangle: (*self.pos, self.width, self.height, 20)
                        width: 1
                Image:
                    pos_hint: {'center_y': 0.5}
                    source: 'icons/profile.png'
                    size_hint: None, 1
                    size: 80, 80
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 1, 1
                    space: 0
                    Label:
                        id: fullname
                        text: "Ism familiya"
                        font_size: '20sp'
                        size_hint_y: 5
                        height: self.texture_size[1]
                        halign: "left"
                        text_size: self.size
                        font_name: "fonts/OpenSans-Bold"
                        padding: [20, 5, 5, 5]

                        canvas.before:
                            Color:
                                rgba: 0.149, 0, 1, 0.42  # Background color
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [0, 20, 0, 20]
                    Label:
                        text: "Letsenziya tugash vaqti:"
                        font_size: '12sp'
                        size_hint_y: 2
                        height: self.texture_size[1]
                        halign: "left"
                        text_size: self.size[0], 30
                        font_name: "fonts/OpenSans-Bold"
                        color: 0, 0.231, 0.435, 1
                    Label:
                        id: letsenziya_label
                        text: "01.01.2025"
                        font_size: '12sp'
                        size_hint_y: 2
                        height: self.texture_size[1]
                        halign: "left"
                        text_size: self.size[0], 30
                        font_name: "fonts/OpenSans-Bold"
                        color: 0, 0.231, 0.435,1 
                    Label:
                        text: ""
                        font_size: '12sp'
                        size_hint_y: 1

        FloatLayout:
            orientation: 'vertical'
            size_hint: 1, 1
            
            # Kunlik hisobotlar
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: 1
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                ScrollView:
                    do_scroll_x: False
                    do_scroll_y: True
                    BoxLayout:
                        id: contents_box
                        orientation: 'vertical'
                        size_hint_y: None
                        height: 300
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint: 1, None
                            height: 150
                            space: 10
                            canvas.before:
                                Color:
                                    rgba: 0.4118, 0.6039, 0.8941, 0.43
                                Rectangle:
                                    pos: self.pos
                                    size: self.size
                            Label:
                                text: "100%"
                                size_hint: None, 1
                                width: 200
                                color: 0, 1, 0, 1.0
                                font_size: 36
                                font_name: "fonts/OpenSans-Bold"
                                canvas.before:
                                    Color:
                                        rgba: 0.2706, 0.2824, 0.3373, 0.5
                                    RoundedRectangle:
                                        pos: self.pos[0]+15,self.pos[1]+25
                                        size: self.size[0]-30,self.size[1]-50
                                        radius: [20]

                            BoxLayout:
                                size_hint: 1, 1
                                orientation: 'vertical'
                                Label:
                                    text: "Bugun"
                                    color: 0.2706, 0.2824, 0.3373, 1.0
                                    font_size: 36
                                    size_hint: 1, 2
                                    font_name: "fonts/OpenSans-Bold"
                                    text_size: self.size
                                    valign: "bottom"
                                Label:
                                    text: "Jami: 100 ta hisob\nKirilgan: 100 ta hisob\nXato login yoki parol: 0 ta"
                                    color: 0.2, 0.2, 0.3, 0.9
                                    size_hint: 1, 3
                                    font_size: 16
                                    font_name: "fonts/OpenSans-Bold"
                                    text_size: self.size
                                    valign: "top"
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint: 1, None
                            height: 150
                            canvas.before:
                                Color:
                                    rgba: 0.4118, 0.6039, 0.8941, 0.59
                                Rectangle:
                                    pos: self.pos
                                    size: self.size
                            Label:
                                text: "100%"
                                size_hint: None, 1
                                width: 200
                                color: 0, 1, 0, 1.0
                                font_size: 36
                                font_name: "fonts/OpenSans-Bold"
                                canvas.before:
                                    Color:
                                        rgba: 0.2706, 0.2824, 0.3373, 0.5
                                    RoundedRectangle:
                                        pos: self.pos[0]+15,self.pos[1]+25
                                        size: self.size[0]-30,self.size[1]-50
                                        radius: [20]

                            BoxLayout:
                                size_hint: 1, 1
                                orientation: 'vertical'
                                Label:
                                    text: "Kecha"
                                    color: 0.2706, 0.2824, 0.3373, 1.0
                                    font_size: 36
                                    size_hint: 1, 2
                                    font_name: "fonts/OpenSans-Bold"
                                    text_size: self.size
                                    valign: "bottom"
                                Label:
                                    text: "Jami: 100 ta hisob\nKirilgan: 100 ta hisob\nXato login yoki parol: 0 ta"
                                    color: 0.2, 0.2, 0.3, 0.9
                                    size_hint: 1, 3
                                    font_size: 16
                                    font_name: "fonts/OpenSans-Bold"
                                    text_size: self.size
                                    valign: "top"
            
            # Run tugmasi
            BoxLayout:
                orientation: "horizontal"
                size_hint: None, None
                pos_hint: {"center_x": 1-150/self.parent.width, "center_y": 80/max(self.parent.height, 1)}
                width: 260
                height: 80
                BoxLayout:
                    size_hint: 1, 1
                    orientation: "vertical"
                    canvas.before:
                        Color:
                            rgba: 0.6667, 0.7333, 1.0000, 1.0
                        RoundedRectangle:
                            pos: self.pos[0], self.pos[1]
                            size: self.size[0]+70,self.size[1]
                            radius: [20]
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rounded_rectangle: (self.pos[0], self.pos[1], self.width+40, self.height, 20)
                            width: 1
                    Label:
                        id: today_foiz
                        text: "100%"
                        color: 1, 0.3490, 0.0000, 1.0
                        font_size: 28
                        size_hint_y: 2
                        halign: "center"
                        padding: [20, 0, 10, 0]
                        valign: "bottom"
                        text_size: self.size
                        font_name: "fonts/OpenSans-Bold"
                    Label:
                        id: today_qism
                        text: "0/35"
                        color: 0.1059, 0.1294, 0.2431, 1.0
                        font_size: 16
                        size_hint_y: 1
                        valign: "top"
                        halign: "right"
                        padding: [10, 0, 20, 0]
                        font_name: "fonts/OpenSans-Bold"
                        text_size: self.size
                Button:
                    size_hint: 1, 1
                    text: "R U N"
                    font_name: "fonts/OpenSans-Bold"
                    background_color: 0,0,0,0
                    font_size: 24
                    on_release:
                        from kivy.clock import Clock
                        Clock.schedule_once(lambda dt: root.all_logins_run())
                    canvas.before:
                        Color:
                            rgba: 0.1059, 0.1294, 0.2431, 1.0
                        RoundedRectangle:
                            size: self.size[0]+20, self.size[1]+20
                            pos: self.pos[0]-10, self.pos[1]-10
                            radius: [5]


        # Pastki Navbar
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            height: 100
            padding: [5, 5, 5, 10]
            canvas.before:
                Color:
                    rgba: 0.424, 0.518, 0.898, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            # Home button
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1
                canvas.before:
                    Color:
                        rgba: 0, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]
                Button:
                    size_hint: 1, 1
                    background_color: 0,0,0,0
                    Image:
                        source: 'icons/home.png'
                        size_hint: None, 1
                        size: 50, 50
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y+10
                    Label:
                        text: "Bosh sahifa"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y-30
                        color: 0,0,0,1
            # Datas button
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1
                canvas.before:
                    Color:
                        rgba: 0, 1, 1, 0
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]
                Button:
                    size_hint: 1, 1
                    background_color: 0,0,0,0
                    on_press:
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'datas'
                        from kivy.clock import Clock
                        Clock.schedule_once(lambda dt: root.manager.DatasPage.get_datas())
                    Image:
                        source: 'icons/mall.png'
                        size_hint: None, 1
                        size: 50, 50
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y+10
                    Label:
                        text: "Ma'lumotlar"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y-30
                        color: 0,0,0,1
            # Letsenziya button
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1
                canvas.before:
                    Color:
                        rgba: 0, 1, 1, 0
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]
                Button:
                    size_hint: 1, 1
                    background_color: 0,0,0,0
                    on_press:
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'letsenziya'
                        app.data_population()
                    Image:
                        source: 'icons/let.png'
                        size_hint: None, 1
                        size: 50, 50
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y+10
                    Label:
                        text: "Letsenziya"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y-30
                        color: 0,0,0,1
